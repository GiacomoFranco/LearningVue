<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://vuejs.org/logo.svg" type="image/x-icon">
    <title>This is Vue ðŸ¥³</title>
</head>

<body>

    <div id="app">
        <h1>{{texto}}</h1>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const app = Vue.createApp({
            data() {
                return {
                    textToWatch: 'Este es el texto predeterminado a observar ðŸ‘€',
                    prevText:'',
                    verifyText: '',
                    arthur: {
                        animal: 'Perro',
                        raza: 'Samoyedo',
                    },
                    arrayRaro:[
                        'arroz','leche','erda'
                    ]
                }
            },
            methods: {
                listenInput(e){
                    this.textToWatch = e.target.value;
                },
                changueArthurData(property, value){
                    let copiedObject = this.arthur;
                    if(property === 'animal'){
                        copiedObject.animal = value;
                    }
                    else{
                        copiedObject.raza = value;
                    }
                    this.arthur = copiedObject
                },
                changueArrayData(value){
                    let copiedArray = this.arrayRaro.slice(0);
                    copiedArray.push(value)
                    this.arrayRaro = copiedArray;
                }
            },
            watch: {
                textToWatch(newValue, prevValue){
                    if(newValue === ':)'){
                        this.verifyText = 'La variable es :)';
                    }
                    else{
                        this.verifyText = 'Por ahora la variable no es :)';                        
                    }
                    this.prevText = prevValue
                },
                arthur: {
                    handler(newValue, oldValue){
                        // console.log(`parce lo que cambiÃ³ fue de ${oldValue} a ${newValue}`);
                        console.log(oldValue);
                        console.log(newValue);
                    },
                    deep:true
                },
                arrayRaro: {
                  hanlder(newValue, prevValue){
                    console.log(oldValue);
                    console.log(newValue);
                  },
                  deep: true
                },
                'arthur.animal'(newValue){
                    console.log(`Artur ahora es un ${newValue}`);
                }
            },
            template: `
            <h1>{{textToWatch}}</h1>
            <input type="text" @change="listenInput"/>
            <hr>
            <h1>Anteriormente en el tÃ­tulo de arriba decÃ­a {{prevText}}</h1>
            <h1>{{verifyText}}</h1>
            `,
            
        }).mount('#app')

    </script>
</body>

</html>